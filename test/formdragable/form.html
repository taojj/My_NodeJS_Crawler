<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Form Dragable</title>
</head>
<body>
<form method ="post" action="some.php?" onclick="order();">
 <div id="e1" style="height:50px;" class="list">
  <input type="hidden" name="location[1]" value="0" class="list">
  <input type="text" name="text[1]" value="some_text" size="25" maxlength="7">
</div>
<div id="e2" style="height:50px;" class="list">
  <input type="hidden" name="location[2]" value="0" class="list">
  <input type="text" name="text[2]" value="some_text" size="25" maxlength="7">
</div>

etc..

 <input type="submit" value="update">
</form>	
<script type="text/javascript" >
	function order()
{
    var new_locations = new Array();
    new_locations = document.getElementsByClassName('loc');

    for(var i = 0; i < new_locations.length; i++)
    {           
        document.getElementById(new_locations[i].id).setAttribute('value', i);
    }       
}

</script>

</body>
</html>